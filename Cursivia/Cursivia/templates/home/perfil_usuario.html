{% extends 'base.html' %}    
{% load static %} 
{% block imagen_presentacion %}
{% endblock %}

{% block sidebar %}
    <div class="sidebar-wrapper">
        <aside class="widget widget_categories">
          <h2 class="widget-title">Foro Carreras</h2>  
            <ul>
              {% for carrera,materia in materiasC %}
                  <li><a href="{% url 'foro_carrera' carrera.id %}"><i class="fa fa-angle-right"></i> {{ carrera }} <span class="badge"> {{ materia }}</span></a></li>
              {% endfor %}      
            </ul>
        </aside>

    </div>
{% endblock sidebar %} 

{% block content %}


    <button class="btn btn-primary" type="submit" data-toggle="modal" data-target="#ModalConfirmarDenuncia">Denunciar usuario
        <i class="mdi-content-send right"></i>
    </button>
        
    <p></p>

    <!-- /.modal -->
   
      <div class="modal fade" id="ModalConfirmarDenuncia" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h3 class="modal-title" id="exampleModalLabel">Est√° seguro que desea denunciar al usuario?</h3>
            </div>
            <div class="modal-body">
                <input name="idPublicacion" class="form-control" id="idPublicacion" type="hidden" value="">
                <textarea name="comentarioDenuncia" class="form-control" id="id_comentarioDenuncia" placeholder="Ingrese el motivo por el cual esta denunciando este usuario" type="text" rows="4"></textarea>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
              <button type="submit" name="action" class="btn btn-success" data-dismiss="modal" onclick="denuncia_usuario()">Denunciar Usuario</a>
            </div>
          </div>
        </div>
      </div>
    <!-- /.modal -->

   <section class="history-section">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-6 col-md-5 no-padding">
                        <div class="history-cover"></div>
                    </div><!-- /.col-md-6 -->
                    <div class="col-lg-6 col-md-7 no-padding">

                        <div id="particles-js"></div>
                        <div class="history-wrapper">
                            <h2>Perfil usuario</h2>

                            <div id="historyCarousel" class="carousel slide" data-ride="carousel">

                              <!-- Wrapper for slides -->
                              <div class="carousel-inner" role="listbox">
                                <div class="item active">
                                    <h3>Conoce a {{usuario.nombre}}</h3>

                                    <p style="margin-bottom: 10px;">Nombre completo: {{usuario.nombre}} {{usuario.apellido}}</p>
                                    <p style="margin-bottom: 10px;">Direccion de correo: {{usuario.eMail}}</p>
                                    {% if usuario.fechaNacimiento != None %}
                                        <p style="margin-bottom: 10px;">Fecha de nacimiento: {{usuario.fechaNacimiento}}</p>
                                    {% endif %}
                                    {% if usuario.localidad != None %}
                                        <p style="margin-bottom: 10px;">Localidad: {{usuario.localidad}}</p>
                                    {% endif %}
                                    {% if usuario.fechaAlta != None %}
                                        <p style="margin-bottom: 10px;">Forma parte de nuestra Comunidad desde: {{usuario.fechaAlta}}</p>
                                    {% endif %}
                                    {% if cantidad_noticias > 0 %}
                                        <p style="margin-bottom: 10px;">Cantidad de noticias realizadas: {{cantidad_noticias}}</p>
                                    {% endif %}
                                    {% if cantidad_publicaciones > 0 %}
                                        <p style="margin-bottom: 10px;">Cantidad de publicaciones realizadas: {{cantidad_publicaciones}}</p>
                                    {% endif %}
                                    {% if cantidad_denuncia > 0 %}
                                        <p style="margin-bottom: 10px;">Cantidad de denuncias adquiridas: {{cantidad_denuncia}}</p>
                                    {% endif %}
                                </div>

                                <div class="item">
                                    <h3>Breve descripcion de mi persona</h3>
                                    {% if usuario.descripcion != "" %}
                                        <p style="margin-bottom: 10px;"> {{usuario.descrpcion}}</p>
                                    {% else %}
                                        <p>El usuario no contiene una descpricion</p>
                                    {% endif %}
                                </div>
                              <!-- Controls -->
                              <a class="left carousel-control" href="#historyCarousel" role="button" data-slide="prev">
                                <span class="fa fa-angle-left" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                              </a>
                              <a class="right carousel-control" href="#historyCarousel" role="button" data-slide="next">
                                <span class="fa fa-angle-right" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                              </a>
                            </div>
                        </div>
                    </div><!-- /.col-md-4 -->
                    </div>
                </div><!-- /.row -->
            </div><!-- /.container-fluid -->
        </section>


{% endblock %}



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> 
<script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
<script src="{% static 'assets/js/scripts.js' %}"></script>
<script src="{% static 'assets/js/particles.min.js' %}"></script>

<script>

function denuncia_usuario(id){
      var comentario = $("#id_comentarioDenuncia").val();

      $.ajax({
      type: 'POST',
      url: 'denunciar/',
      data: {id: id, comentario: comentario},
      success: function (data) {
        $("#id_comentarioDenuncia").val("");
      },
      error: function(data) {
      }
    });
  };
  </script>



    <script type="text/javascript">
        function vidplay() {
          var video = document.getElementById("videoPlayer");
          var button = document.getElementById("playbtn");
          if (video.paused) {
            video.play();
            button.className = "pause"
          } else {
            video.pause();
            button.className = "play"
          }
        }
    </script>
    <script type="text/javascript">
        particlesJS("particles-js", {
          "particles": {
            "number": {
              "value": 100,
              "density": {
                "enable": true,
                "value_area":1000
              }
            },
            "color": {
              "value": ["#aa73ff", "#f8c210", "#83d238", "#33b1f8"]
            },

            "shape": {
              "type": "circle",
              "stroke": {
                "width": 0,
                "color": "#fff"
              }
            },
            "opacity": {
              "value": 0.6,
              "random": false,
              "anim": {
                "enable": false,
                "speed": 1,
                "opacity_min": 0.1,
                "sync": false
              }
            },
            "size": {
              "value": 2,
              "random": true,
              "anim": {
                "enable": false,
                "speed": 40,
                "size_min": 0.1,
                "sync": false
              }
            },
            "line_linked": {
              "enable": true,
              "distance": 120,
              "color": "#ffffff",
              "opacity": 0.4,
              "width": 1
            },
          },
          "interactivity": {
            "detect_on": "canvas",
            "events": {
              "onhover": {
                "enable": true,
                "mode": "grab"
              },
              "onclick": {
                "enable": true
              },
              "resize": true
            },
            "modes": {
              "grab": {
                "distance": 140,
                "line_linked": {
                  "opacity": 1
                }
              },
              "bubble": {
                "distance": 400,
                "size": 40,
                "duration": 2,
                "opacity": 8,
                "speed": 3
              },
              "repulse": {
                "distance": 200,
                "duration": 0.4
              },
              "push": {
                "particles_nb": 4
              },
              "remove": {
                "particles_nb": 2
              }
            }
          },
          "retina_detect": true
        });
    </script>






